/* gator v1.0 craig.is/riding/gators */
(function(){function q(a,b,d){if("_root"==b)return a;if(a!==d){var r;c||(a.matches&&(c=a.matches),a.webkitMatchesSelector&&(c=a.webkitMatchesSelector),a.mozMatchesSelector&&(c=a.mozMatchesSelector),a.msMatchesSelector&&(c=a.msMatchesSelector),c||(c=h.matchesSelector));r=c;if(r.call(a,b))return a;if(a.parentNode)return m++,q(a.parentNode,b,d)}}function s(a,b,i,c){a instanceof Array||(a=[a]);!i&&"function"==typeof b&&(i=b,b="_root");var k=this.id,j=function(a){a:{var b=a.type,f=a.target||a.srcElement,
i,c,e={},g=c=0;if(d[k][b]){m=0;for(i in d[k][b])if(d[k][b].hasOwnProperty(i)&&(c=q(f,i,l[k].element)))m++,d[k][b][i].match=c,e[m]=d[k][b][i];a.stopPropagation=function(){a.cancelBubble=!0};for(c=0;c<=m;c++)if(e[c])for(g=0;g<e[c].length;g++){if(!1===e[c][g].call(e[c].match,a)){h.cancel(a);break a}if(a.cancelBubble)break a}}}},g;for(g=0;g<a.length;g++)if(a[g]=h.addEvent(this,a[g],j,d),c){var f=a[g],e=b,n=i;if(!n&&!e)delete d[this.id][f];else if(n)for(var p=0;p<d[this.id][f][e].length;p++){if(d[this.id][f][e][p]===
n){d[this.id][f][e].pop(p,1);break}}else delete d[this.id][f][e]}else f=a[g],e=b,n=i,d[this.id]||(d[this.id]={}),d[this.id][f]||(d[this.id][f]={}),d[this.id][f][e]||(d[this.id][f][e]=[]),d[this.id][f][e].push(n);return this}function h(a){if(!(this instanceof h)){for(var b in l)if(l[b].element===a)return l[b];j++;l[j]=new h(a,j);return l[j]}this.element=a;this.id=j}var c,m=0,j=0,d={},l={};h.prototype.on=function(a,b,c){return s.call(this,a,b,c)};h.prototype.off=function(a,b,c){return s.call(this,a,
b,c,!0)};h.matchesSelector=function(){};h.cancel=function(a){a.preventDefault();a.stopPropagation()};h.addEvent=function(a,b,c,d){if(!d[a.id]||!d[a.id][b])a.element.addEventListener(b,c,"blur"==b||"focus"==b);return b};window.Gator=h})();
